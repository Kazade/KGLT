CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(kglt_sample)

FIND_PACKAGE(PkgConfig)

ADD_DEFINITIONS(-Wall -std=c++0x -g)

PKG_CHECK_MODULES(SDL QUIET sdl)
PKG_CHECK_MODULES(GL QUIET gl)
PKG_CHECK_MODULES(GLU QUIET glu)
PKG_CHECK_MODULES(SIGC QUIET sigc++-2.0)

FIND_PACKAGE(Boost COMPONENTS system filesystem thread date_time REQUIRED)

FILE(GLOB_RECURSE KGLT_SOURCES kglt/*.cpp)
FILE(GLOB_RECURSE KAZBASE_SOURCES kazbase/*.cpp)

SET(SAMPLE_SOURCES
    sample.cpp
)

SET(Q2_SAMPLE_SOURCES
    q2bsp_sample.cpp
)

INCLUDE_DIRECTORIES(
    ${SDL_INCLUDE_DIRS}
    ${GL_INCLUDE_DIRS}
    ${GLU_INCLUDE_DIRS}
    ${SIGC_INCLUDE_DIRS}
)

LINK_LIBRARIES(
    ${SDL_LIBRARIES}
    ${GL_LIBRARIES}
    ${GLU_LIBRARIES}
    ${SIGC_LIBRARIES}
    ${Boost_FILESYSTEM_LIBRARY}
    ${Boost_SYSTEM_LIBRARY}
    ${Boost_THREAD_LIBRARY}
    ${Boost_DATE_TIME_LIBRARY}
    SOIL
)

ADD_EXECUTABLE(
    kglt_sample
    ${KGLT_SOURCES}
    ${KAZMATH_SOURCES}
    ${KAZBASE_SOURCES}
    ${SAMPLE_SOURCES}
)

ADD_EXECUTABLE(
    kglt_bsp_sample
    ${KGLT_SOURCES}
    ${KAZMATH_SOURCES}    
    ${KAZBASE_SOURCES}    
    ${Q2_SAMPLE_SOURCES}
)
