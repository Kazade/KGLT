cmake_minimum_required(VERSION 2.8)
project({PROJECT_NAME})


FIND_PACKAGE(PkgConfig REQUIRED)

FIND_PACKAGE(KAZTEST)
FIND_PACKAGE(SIMULANT)
FIND_PACKAGE(KAZBASE REQUIRED)
FIND_PACKAGE(KAZMATH REQUIRED)
FIND_PACKAGE(KAZTIMER REQUIRED)
FIND_PACKAGE(GLEW REQUIRED)

PKG_CHECK_MODULES(SDL2 REQUIRED sdl2)
PKG_CHECK_MODULES(GL REQUIRED gl)
PKG_CHECK_MODULES(ODE REQUIRED ode)

INCLUDE_DIRECTORIES(
    ${SDL2_INCLUDE_DIRS}
    ${GL_INCLUDE_DIRS}
    ${GLEW_INCLUDE_DIR}
    ${SIMULANT_INCLUDE_DIRS}
    ${KAZBASE_INCLUDE_DIRS}
    ${KAZMATH_INCLUDE_DIRS}
    ${KAZTIMER_INCLUDE_DIRS}
    ${ODE_INCLUDE_DIRS}
    ${FREETYPE_INCLUDE_DIRS}
)
LINK_LIBRARIES(
    ${SDL2_LIBRARIES}
    ${GL_LIBRARIES}
    ${GLEW_LIBRARIES}
    ${SIMULANT_LIBRARIES}
    ${KAZBASE_LIBRARIES}
    ${KAZMATH_LIBRARIES}
    ${KAZTIMER_LIBRARIES}
    ${ODE_LIBRARIES}
    ${FREETYPE_LIBRARY}
)

FILE(GLOB_RECURSE SOURCES FOLLOW_SYMLINKS {PROJECT_NAME}/*.cpp)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -pthread")

add_definitions("-Wall -g -Wno-mismatched-tags -DdSINGLE")
add_executable({PROJECT_NAME} ${SOURCES})

FILE(COPY ${CMAKE_CURRENT_SOURCE_DIR}/{PROJECT_NAME}/assets/ DESTINATION ${CMAKE_BINARY_DIR}/assets/)
